"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[453],{2453:(e,a,r)=>{r.r(a),r.d(a,{default:()=>i});var l=r(2791),n=r(2937),s=r(5294),c=r(184);const i=()=>{const[e,a]=(0,l.useState)({pharmacyName:"",ownerName:"",phoneNumber:"",longitude:"",latitude:""}),r=r=>{const{name:l,value:n}=r.target;a({...e,[l]:n})};return(0,c.jsx)(n.rb,{children:(0,c.jsxs)(n.b7,{xs:12,children:[(0,c.jsxs)(n.xH,{className:"mb-4",children:[(0,c.jsx)(n.bn,{children:(0,c.jsx)("strong",{children:"Add a new pharmacy"})}),(0,c.jsxs)(n.sl,{children:[(0,c.jsx)(n.L8,{htmlFor:"pharmacyName",children:"Pharmacy name"}),(0,c.jsx)(n.YR,{className:"mb-3",children:(0,c.jsx)(n.jO,{name:"pharmacyName",value:e.pharmacyName,onChange:r,placeholder:"Pharmacy name","aria-label":"Pharmacy name"})}),(0,c.jsx)(n.L8,{htmlFor:"ownerName",children:"Owner name"}),(0,c.jsx)(n.YR,{className:"mb-3",children:(0,c.jsx)(n.jO,{name:"ownerName",value:e.ownerName,onChange:r,placeholder:"Pharmacy owner name","aria-label":"Recipient's username","aria-describedby":"basic-addon2"})}),(0,c.jsx)(n.L8,{htmlFor:"PhoneNumber",children:"Phone Number"}),(0,c.jsxs)(n.YR,{className:"mb-3",children:[(0,c.jsx)(n.wV,{id:"basic-addon3",children:"+216"}),(0,c.jsx)(n.jO,{id:"PhoneNumber",name:"phoneNumber",value:e.phoneNumber,onChange:r,placeholder:"Phone Number","aria-describedby":"basic-addon3"})]}),(0,c.jsx)(n.L8,{htmlFor:"Longitude",children:"Location"}),(0,c.jsxs)(n.YR,{className:"mb-3",children:[(0,c.jsx)(n.jO,{placeholder:"Longitude",name:"longitude",value:e.longitude,onChange:r,"aria-label":"longitude"}),(0,c.jsx)(n.wV,{children:"/"}),(0,c.jsx)(n.jO,{placeholder:"Latitude",name:"latitude",value:e.latitude,onChange:r,"aria-label":"Latitude"})]}),(0,c.jsx)(n.L8,{htmlFor:"basic-url",children:"Add An image"}),(0,c.jsx)(n.YR,{className:"mb-3",children:(0,c.jsx)(n.jO,{type:"file",id:"inputGroupFile01"})})]})]}),(0,c.jsx)(n.u5,{className:"m-3",color:"primary",onClick:async()=>{try{if(Object.values(e).some((e=>""===e)))return void alert("Please fill in all fields");const r=await s.Z.post("http://localhost:3117/pharmacies",e);console.log("Response:",r.data),alert("Pharmacy added successfully!"),a({pharmacyName:"",ownerName:"",phoneNumber:"",longitude:"",latitude:""})}catch(r){console.error("Error adding pharmacy:",r.response.data.error),400===r.response.status?alert("Phone number should be 8 digits."):409===r.response.status?alert("Pharmacy with the same name already exists."):alert("Error adding pharmacy. Please try again.")}},children:"Add"}),(0,c.jsx)(n.u5,{className:"m-3",color:"danger",onClick:()=>a({pharmacyName:"",ownerName:"",phoneNumber:"",longitude:"",latitude:""}),children:"Clear All"})]})})}}}]);
//# sourceMappingURL=453.9cfca28f.chunk.js.map